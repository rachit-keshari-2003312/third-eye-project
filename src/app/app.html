<div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" [class.collapsed]="sidebarCollapsed">
            <!-- Logo Section -->
            <div class="logo-section">
                <div class="logo-icon">
                    <div class="eye-animation" [class.blink]="eyeBlinking">
                        üëÅÔ∏è
                    </div>
                </div>
                <div class="logo-text" [class.hidden]="sidebarCollapsed">
                    <h2>Third-Eye</h2>
                    <span>Agentic AI Platform</span>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="nav-menu">
                <a class="nav-item" 
                   routerLink="/conversations"
                   [class.active]="selectedTab === 'conversations'"
                   (click)="switchTab('conversations')"
                   title="Conversations">
                    <i class="icon">üí¨</i>
                    <span [class.hidden]="sidebarCollapsed">Conversations</span>
                </a>

                <a class="nav-item" 
                   routerLink="/analytics"
                   [class.active]="selectedTab === 'analytics'"
                   (click)="switchTab('analytics')"
                   title="Analytics">
                    <i class="icon">üìà</i>
                    <span [class.hidden]="sidebarCollapsed">Analytics</span>
                </a>
            </nav>

            <!-- Collapse Toggle -->
            <div class="collapse-toggle" (click)="toggleSidebar()">
                <i class="icon">{{ sidebarCollapsed ? '‚ñ∂Ô∏è' : '‚óÄÔ∏è' }}</i>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" [class.expanded]="sidebarCollapsed">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button class="menu-toggle" (click)="toggleSidebar()">
                        <i class="icon">‚ò∞</i>
                    </button>
                    <h1>{{ getPageTitle() }}</h1>
                </div>
                
                <div class="header-right">
                    <div class="search-box">
                        <input type="text" placeholder="Search..." [(ngModel)]="searchQuery">
                        <i class="search-icon">üîç</i>
                    </div>
                    
                    <div class="user-profile">
                        <div class="user-avatar">{{ getUserInitials() }}</div>
                        <span class="user-name">{{ currentUser?.email }}</span>
                    </div>
                </div>
            </header>

            <!-- Router Outlet -->
            <main class="content-area">
                <router-outlet></router-outlet>
            </main>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="login-overlay" *ngIf="!isAuthenticated" (click)="closeLoginModal($event)">
        <div class="login-modal" (click)="$event.stopPropagation()">
            <div class="login-header">
                <div class="login-logo">
                    <div class="eye-animation blink">üëÅÔ∏è</div>
                    <h2>Third-Eye</h2>
                </div>
                <p>Enter your credentials to access the Agentic AI Platform</p>
            </div>

            <form class="login-form" (ngSubmit)="login()">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input 
                        type="email" 
                        id="email" 
                        [(ngModel)]="loginForm.email" 
                        name="email"
                        placeholder="Enter your email"
                        required>
                </div>

                <div class="form-group">
                    <label for="apiKey">API Key</label>
                    <input 
                        type="password" 
                        id="apiKey" 
                        [(ngModel)]="loginForm.apiKey" 
                        name="apiKey"
                        placeholder="Enter your API key"
                        required>
                </div>

                <button type="submit" class="login-btn" [disabled]="!loginForm.email || !loginForm.apiKey">
                    Sign In
                </button>

                <div class="login-help">
                    <p>Need an API key? Contact your administrator.</p>
      </div>
            </form>
      </div>
    </div>